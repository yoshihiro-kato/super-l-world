package com.ykato.slw

import android.graphics.Bitmap
import android.graphics.Color
import android.graphics.Matrix

class NormalGround {
    private val magnification : Float = 5F
    private val color = arrayOf(
            0x00000000, // 0
            0xff000000, // 1
            0xff2ec720, // 2
            0xff177848, // 3
            0xff78681a, // 4
            0xffc7995c, // 5
            0xffe0c057  // 6
    )

    private val position: Array<IntArray> = arrayOf(
            intArrayOf(
            0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            0, 0, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
            0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
            0, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 3, 3,
            1, 2, 2, 2, 2, 3, 3, 1, 1, 1, 1, 3, 3, 3, 1, 1,
            1, 2, 2, 2, 3, 3, 1, 4, 4, 4, 4, 1, 1, 1, 4, 4,
            1, 2, 2, 2, 3, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
            1, 2, 2, 3, 3, 1, 4, 5, 5, 5, 5, 4, 4, 4, 5, 5,
            1, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 5, 6, 6, 5,
            1, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 5, 6, 6, 5,
            1, 2, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 6, 6, 5,
            1, 2, 2, 2, 3, 1, 4, 4, 5, 5, 6, 5, 5, 5, 5, 5,
            1, 2, 2, 2, 3, 1, 4, 4, 5, 5, 6, 5, 5, 5, 5, 5,
            1, 2, 2, 3, 1, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5
            ),
            intArrayOf(
            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
            2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
            3, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 2, 2, 2, 3, 3,
            1, 3, 3, 2, 2, 2, 3, 3, 1, 1, 1, 3, 3, 3, 1, 1,
            4, 1, 1, 3, 3, 3, 1, 1, 4, 4, 4, 1, 1, 1, 4, 4,
            4, 4, 4, 1, 1, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
            5, 5, 4, 4, 4, 4, 4, 5, 5, 5, 5, 4, 4, 4, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 5,
            5, 5, 5, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 5,
            5, 5, 5, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 5,
            5, 5, 5, 6, 6, 5, 5, 5, 5, 5, 6, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5
            ),
            intArrayOf(
            1, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 2, 3, 1, 4, 4, 5, 6, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 2, 2, 3, 1, 4, 5, 6, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 2, 2, 3, 1, 4, 5, 6, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 2, 2, 3, 1, 4, 5, 5, 5, 5, 6, 5, 5, 5,
            1, 2, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 6, 5, 5, 5,
            1, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 6, 6, 5, 5,
            1, 2, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 6, 6, 5, 5,
            1, 2, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 6, 6, 5, 5,
            1, 2, 2, 2, 3, 1, 4, 4, 5, 6, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 3, 1, 4, 4, 4, 5, 6, 5, 5, 5, 5, 5, 5,
            1, 2, 2, 3, 1, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5
            ),
            intArrayOf(
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 6, 6, 5, 5, 5, 6, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 6, 6, 5, 5, 5, 6, 5, 5, 5, 5, 5,
            5, 5, 5, 6, 5, 5, 5, 5, 5, 5, 6, 5, 5, 5, 5, 5,
            5, 5, 5, 6, 5, 5, 5, 5, 5, 5, 6, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            5, 5, 5, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 5,
            5, 5, 5, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 5,
            5, 5, 5, 6, 6, 5, 5, 5, 5, 5, 6, 5, 5, 6, 6, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5
        )
    )
    private val width = 16
    private val height = 16

    fun createGround(index : Int): Bitmap {
        val pixels = Array(width * height) { Color.BLACK }
        for (y in 0..(height - 1)) {
            for (x in 0..(width - 1)) {
                pixels[x + y * width] = color[position[index][x + y * width]].toInt()
            }
        }

        val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)
        bitmap.setPixels(pixels.toIntArray(), 0, bitmap.width, 0, 0, bitmap.width, bitmap.height)
        val matrix = Matrix()
        matrix.setScale(magnification, magnification)
        return Bitmap.createBitmap(bitmap, 0, 0, bitmap.width, bitmap.height, matrix,true)
    }
}